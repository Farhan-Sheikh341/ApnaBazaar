{%extends 'base/base.html'%}
{%load humanize%}
{% load static %}
{%block content%}
<!-- ALL PRODUCTS PAGE -->
<section class="py-10 bg-gray-50">
    <div class="container mx-auto px-4">

        <!-- HEADER + SORTING -->
        <div class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4">

            <!-- Title -->
            <h2 class="text-3xl font-bold text-gray-800">All Products</h2>

            <!-- Sort Dropdown -->
            <select class="border border-gray-300 rounded-lg px-3 py-2 text-gray-700">
                <option>Sort By</option>
                <option>Price: Low to High</option>
                <option>Price: High to Low</option>
                <option>Newest First</option>
                <option>Popular</option>
            </select>

        </div>

        <!-- RESPONSIVE PRODUCTS GRID -->
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-5">

            <!-- PRODUCT CARD -->
             {%for product in products%}
            <a href="{%url 'product_page' product.slug%}" class="block bg-white border rounded-lg overflow-hidden shadow hover:shadow-xl transition">
                <div class="relative">
                    <img src="{{product.product_images.first.image.url}}"
                         class="w-full h-64 object-cover" alt="Product">

                    <span class="absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded">
                        30% OFF
                    </span>
                </div>

                <div class="p-3">
                    <h3 class="text-sm font-semibold text-gray-800 line-clamp-2">
                        {{product.product_name}}
                    </h3>
                    <p class="text-xs text-gray-500">{{product.category}}</p>

                    <div class="flex justify-between items-center mt-2">
                        <span class="text-lg font-bold text-gray-900">â‚¹{{product.price|intcomma}}</span>
                        <span class="text-green-600 text-xs">Free Delivery</span>
                    </div>
                </div>
            </a>
            {%endfor%}
        </div>

        <!-- PAGINATION -->
        <div class="flex justify-center items-center mt-10 space-x-2">

            <button class="px-4 py-2 border rounded-lg bg-white text-gray-600 hover:bg-gray-100">
                Prev
            </button>

            <button class="px-4 py-2 border rounded-lg bg-blue-600 text-white">
                1
            </button>
            <button class="px-4 py-2 border rounded-lg bg-white text-gray-600 hover:bg-gray-100">
                2
            </button>
            <button class="px-4 py-2 border rounded-lg bg-white text-gray-600 hover:bg-gray-100">
                3
            </button>

            <button class="px-4 py-2 border rounded-lg bg-white text-gray-600 hover:bg-gray-100">
                Next
            </button>

        </div>

    </div>
</section>

{%endblock%}